{% extends 'base.html' %}

{% block title %}
Montadora {{montadora.name}}
{% endblock %}

{% block page_title %}
Montadora {{montadora.name}}
{% endblock %}

{% block content %}
<div class="container d-flex flex-column flex-grow-0 h-100">
  <h2 class="align-self-center"> Modelos de carro fabricados por essa montadora: </h2>
  <div class="table-responsive col mt-3 " style="min-height: 300px;max-height: 70%; overflow-y: auto;">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nome</th>
          <th scope="col">Preço de Referência</th>
          <th scope="col">Motorização</th>
          <th scope="col">É automático?</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        {% for car_model in montadora.car_models %}
        <tr>
          <th scope="row">{{loop.index}}</th>
          <td>{{car_model.name}}</td>
          <td>{{car_model.reference_value}}</td>
          <td>{{car_model.motorization}}</td>
          <td>{{"Sim" if car_model.is_automatic else "Não"}}</td>
          <td>
            <a class="btn btn-sm btn-secondary"
              href="{{ url_for('car_model_update_form', car_model_id=car_model.id) }}">
              Editar
            </a>
            <a class="btn btn-sm btn-danger" href="{{ url_for('car_model_delete', car_model_id=car_model.id) }}">
              Excluir </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<div class="d-flex justify-content-between">
  <a href="{{url_for('home')}}" class="btn btn-primary"> Voltar para a página inicial </a>
  <a href="{{ url_for('car_model_form', manufacturer_id=montadora.id) }}" class="btn btn-primary">Adicionar novo
    modelo de
    carro</a>
</div>
{% endblock %}